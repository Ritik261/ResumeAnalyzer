<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dashboard - ResumeAnalyzer</title>
  <link rel="stylesheet" href="../css/index.css" />
  <link rel="stylesheet" href="../css/Home.css" />
</head>
<body>
  <!-- Navbar -->
  <header class="navbar">
    <div class="container nav-content">
      <div class="logo">ResumeAnalyzer</div>
      <nav class="nav-links">
        <a href="Home.html">Dashboard</a>
        <a href="index.html#features">Features</a>
        <a href="#" class="btn btn-outline" id="logoutBtn">Logout</a>
      </nav>
    </div>
  </header>

  <!-- Dashboard Section -->
  <section class="dashboard-section">
    <div class="container">
      <div class="dashboard-header">
        <h1>Analyze Your Resume</h1>
        <p>Upload your resume to get instant AI-powered insights, skill gaps analysis, and job match suggestions.</p>
      </div>

      <!-- Upload Card -->
      <div class="upload-card">
        <div class="upload-area" id="uploadArea">
          <div class="upload-icon">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
              <polyline points="17 8 12 3 7 8"/>
              <line x1="12" y1="3" x2="12" y2="15"/>
            </svg>
          </div>
          <h3>Upload Your Resume</h3>
          <p>Drag and drop your PDF file here, or click to browse</p>
          <p class="file-types">Supports PDF files only</p>
          <input type="file" id="resumeInput" accept=".pdf" hidden>
          <button class="btn btn-primary btn-lg upload-btn" id="uploadBtn">
            Choose File
          </button>
        </div>

        <!-- File Preview (shown after upload) -->
        <div class="file-preview" id="filePreview" style="display: none;">
          <div class="file-info">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
              <polyline points="14 2 14 8 20 8"/>
            </svg>
            <div class="file-details">
              <span class="file-name" id="fileName">resume.pdf</span>
              <span class="file-size" id="fileSize">256 KB</span>
            </div>
          </div>
          <div class="file-actions">
            <button class="btn btn-primary" id="analyzeBtn">Analyze Resume</button>
            <button class="btn btn-outline" id="removeBtn">Remove</button>
          </div>
        </div>

        <!-- Analysis Loading -->
        <div class="analysis-loading" id="analysisLoading" style="display: none;">
          <div class="spinner"></div>
          <h3>Analyzing your resume...</h3>
          <p>This may take a few moments</p>
        </div>

        <!-- Analysis Results -->
        <div class="analysis-results" id="analysisResults" style="display: none;">
          <div class="result-header">
            <h3>Analysis Complete</h3>
            <button class="btn btn-outline" id="newAnalysisBtn">Upload New</button>
          </div>
          
          <div class="score-card">
            <div class="score-circle">
              <span class="score-value" id="resumeScore">87</span>
              <span class="score-label">%</span>
            </div>
            <div class="score-details">
              <h4>Resume Score</h4>
              <p id="scoreMessage">Great job! Your resume is well-optimized.</p>
            </div>
          </div>

          <div class="results-grid">
            <div class="result-card">
              <h4>Strengths</h4>
              <ul id="strengthsList">
                <li>Strong technical keywords</li>
                <li>ATS friendly format</li>
                <li>Clear work experience</li>
              </ul>
            </div>
            <div class="result-card">
              <h4>Areas to Improve</h4>
              <ul id="improvementsList">
                <li>Add more quantifiable achievements</li>
                <li>Include more soft skills</li>
                <li>Optimize summary section</li>
              </ul>
            </div>
            <div class="result-card">
              <h4>Job Matches</h4>
              <ul id="jobMatchesList">
                <li>Software Engineer - 92% match</li>
                <li>Full Stack Developer - 88% match</li>
                <li>Backend Developer - 85% match</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- Features Preview -->
      <div class="features-preview">
        <h2>What You'll Get</h2>
        <div class="features-grid">
          <div class="feature-item">
            <div class="feature-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                <polyline points="22 4 12 14.01 9 11.01"/>
              </svg>
            </div>
            <div>
              <h4>ATS Score</h4>
              <p>Check if your resume passes applicant tracking systems</p>
            </div>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                <line x1="12" y1="17" x2="12.01" y2="17"/>
              </svg>
            </div>
            <div>
              <h4>Skill Gap Analysis</h4>
              <p>Discover what skills you need to add</p>
            </div>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                <line x1="8" y1="21" x2="16" y2="21"/>
                <line x1="12" y1="17" x2="12" y2="21"/>
              </svg>
            </div>
            <div>
              <h4>Job Matching</h4>
              <p>Find roles that fit your profile</p>
            </div>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="20" x2="12" y2="10"/>
                <line x1="18" y1="20" x2="18" y2="4"/>
                <line x1="6" y1="20" x2="6" y2="16"/>
              </svg>
            </div>
            <div>
              <h4>Improvement Tips</h4>
              <p>Get actionable recommendations</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p>© 2026 ResumeAnalyzer. Built with FastAPI & ❤️</p>
    </div>
  </footer>

  <script src="../js/app.js"></script>
  <script>
    // Dashboard specific scripts
    const uploadArea = document.getElementById('uploadArea');
    const uploadBtn = document.getElementById('uploadBtn');
    const resumeInput = document.getElementById('resumeInput');
    const filePreview = document.getElementById('filePreview');
    const analysisLoading = document.getElementById('analysisLoading');
    const analysisResults = document.getElementById('analysisResults');
    const analyzeBtn = document.getElementById('analyzeBtn');
    const removeBtn = document.getElementById('removeBtn');
    const newAnalysisBtn = document.getElementById('newAnalysisBtn');

    // Click to upload
    uploadBtn.addEventListener('click', () => resumeInput.click());
    uploadArea.addEventListener('click', (e) => {
      if (e.target !== uploadBtn) resumeInput.click();
    });

    // File selected
    resumeInput.addEventListener('change', handleFileSelect);

    // Drag and drop
    uploadArea.addEventListener('dragover', (e) => {
      e.preventDefault();
      uploadArea.classList.add('drag-over');
    });

    uploadArea.addEventListener('dragleave', () => {
      uploadArea.classList.remove('drag-over');
    });

    uploadArea.addEventListener('drop', (e) => {
      e.preventDefault();
      uploadArea.classList.remove('drag-over');
      const file = e.dataTransfer.files[0];
      if (file && file.type === 'application/pdf') {
        processFile(file);
      }
    });

    function handleFileSelect(e) {
      const file = e.target.files[0];
      if (file) {
        processFile(file);
      }
    }

    function processFile(file) {
      document.getElementById('fileName').textContent = file.name;
      document.getElementById('fileSize').textContent = formatFileSize(file.size);
      
      uploadArea.style.display = 'none';
      filePreview.style.display = 'flex';
    }

    function formatFileSize(bytes) {
      if (bytes < 1024) return bytes + ' B';
      if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';
      return (bytes / (1024 * 1024)).toFixed(1) + ' MB';
    }

    // Remove file
    removeBtn.addEventListener('click', () => {
      resetUpload();
    });

    function resetUpload() {
      resumeInput.value = '';
      uploadArea.style.display = 'block';
      filePreview.style.display = 'none';
      analysisLoading.style.display = 'none';
      analysisResults.style.display = 'none';
    }

    // Analyze resume
    analyzeBtn.addEventListener('click', async () => {
      const file = resumeInput.files[0];
      if (!file) return;

      filePreview.style.display = 'none';
      analysisLoading.style.display = 'block';

      // Simulate analysis (replace with actual API call)
      setTimeout(() => {
        analysisLoading.style.display = 'none';
        analysisResults.style.display = 'block';
      }, 2000);
    });

    // New analysis
    newAnalysisBtn.addEventListener('click', resetUpload);
  </script>
</body>
</html>
